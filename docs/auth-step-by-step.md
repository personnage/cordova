# Auth: Step by step

## Регистрация пользователя.

1) Пользователь вводит `email` адрес и `password`.

2) Данные отправляются на сервер и проверяются. Если данные были введены некорректно, необходимо повторить шаг 1. В случае положительного ответа от сервера, будет создан новый пользователь. Ему будет присвоен уникальный `id`, а также `email` адрес и шифрованный пароль.

3) Далее необходимо выполнить процедуру авторизации приложения, для завершения шага регистрации. Для получения `access_token`, приложение должно отправить `POST` запрос к `oauth/token`, содержащий следующие данные:
*grant_type*, *client_id*, *client_secret*, *username*, *password*. Если запрос будет выполнен успешно, сервер вернет json ответ, содержащий `access_token`, `refresh_token` для последующего обновления `access_token`, а также время жизни токена `expires_in`. Приложение должно сохранить эту информацию, для использования в будущем.

4) Приложение переводит пользователя на второй экран, где его просят ввести `username`. Данный параметр обязателен для заполнения и служит еще одним идентификатором в системе. Приложение должно отправить `PUT` запрос к `api/user`. В случае положительного ответе приложение переводит пользователя на следующий экран завершения регистрации.

5) Финальный шаг завершения регистрации служит для запроса от пользователя анкетной информации и не является обязательной. Пользователь в праве пропустить данный шаг и завершить регистрацию, заполнив информацию о себе позднее в личном кабинете. Запрос должен быть отправлен к `api/user` методом `PUT`.
